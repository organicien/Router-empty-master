{"ast":null,"code":"/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport { __extends } from \"tslib\";\nimport { MDCComponent } from '@material/base/component';\nimport { cssClasses, strings } from './constants';\nimport { MDCMenuSurfaceFoundation } from './foundation';\nimport * as util from './util';\n\nvar MDCMenuSurface =\n/** @class */\nfunction (_super) {\n  __extends(MDCMenuSurface, _super);\n\n  function MDCMenuSurface() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  MDCMenuSurface.attachTo = function (root) {\n    return new MDCMenuSurface(root);\n  };\n\n  MDCMenuSurface.prototype.initialSyncWithDOM = function () {\n    var _this = this;\n\n    var parentEl = this.root.parentElement;\n    this.anchorElement = parentEl && parentEl.classList.contains(cssClasses.ANCHOR) ? parentEl : null;\n\n    if (this.root.classList.contains(cssClasses.FIXED)) {\n      this.setFixedPosition(true);\n    }\n\n    this.handleKeydown = function (event) {\n      _this.foundation.handleKeydown(event);\n    };\n\n    this.handleBodyClick = function (event) {\n      _this.foundation.handleBodyClick(event);\n    }; // capture so that no race between handleBodyClick and quickOpen when\n    // menusurface opened on button click which registers this listener\n\n\n    this.registerBodyClickListener = function () {\n      document.body.addEventListener('click', _this.handleBodyClick, {\n        capture: true\n      });\n    };\n\n    this.deregisterBodyClickListener = function () {\n      document.body.removeEventListener('click', _this.handleBodyClick);\n    };\n\n    this.listen('keydown', this.handleKeydown);\n    this.listen(strings.OPENED_EVENT, this.registerBodyClickListener);\n    this.listen(strings.CLOSED_EVENT, this.deregisterBodyClickListener);\n  };\n\n  MDCMenuSurface.prototype.destroy = function () {\n    this.unlisten('keydown', this.handleKeydown);\n    this.unlisten(strings.OPENED_EVENT, this.registerBodyClickListener);\n    this.unlisten(strings.CLOSED_EVENT, this.deregisterBodyClickListener);\n\n    _super.prototype.destroy.call(this);\n  };\n\n  MDCMenuSurface.prototype.isOpen = function () {\n    return this.foundation.isOpen();\n  };\n\n  MDCMenuSurface.prototype.open = function () {\n    this.foundation.open();\n  };\n\n  MDCMenuSurface.prototype.close = function (skipRestoreFocus) {\n    if (skipRestoreFocus === void 0) {\n      skipRestoreFocus = false;\n    }\n\n    this.foundation.close(skipRestoreFocus);\n  };\n\n  Object.defineProperty(MDCMenuSurface.prototype, \"quickOpen\", {\n    set: function (quickOpen) {\n      this.foundation.setQuickOpen(quickOpen);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /** Sets the foundation to use page offsets for an positioning when the menu is hoisted to the body. */\n\n  MDCMenuSurface.prototype.setIsHoisted = function (isHoisted) {\n    this.foundation.setIsHoisted(isHoisted);\n  };\n  /** Sets the element that the menu-surface is anchored to. */\n\n\n  MDCMenuSurface.prototype.setMenuSurfaceAnchorElement = function (element) {\n    this.anchorElement = element;\n  };\n  /** Sets the menu-surface to position: fixed. */\n\n\n  MDCMenuSurface.prototype.setFixedPosition = function (isFixed) {\n    if (isFixed) {\n      this.root.classList.add(cssClasses.FIXED);\n    } else {\n      this.root.classList.remove(cssClasses.FIXED);\n    }\n\n    this.foundation.setFixedPosition(isFixed);\n  };\n  /** Sets the absolute x/y position to position based on. Requires the menu to be hoisted. */\n\n\n  MDCMenuSurface.prototype.setAbsolutePosition = function (x, y) {\n    this.foundation.setAbsolutePosition(x, y);\n    this.setIsHoisted(true);\n  };\n  /**\n   * @param corner Default anchor corner alignment of top-left surface corner.\n   */\n\n\n  MDCMenuSurface.prototype.setAnchorCorner = function (corner) {\n    this.foundation.setAnchorCorner(corner);\n  };\n\n  MDCMenuSurface.prototype.setAnchorMargin = function (margin) {\n    this.foundation.setAnchorMargin(margin);\n  };\n\n  MDCMenuSurface.prototype.getDefaultFoundation = function () {\n    var _this = this; // DO NOT INLINE this variable. For backward compatibility, foundations take a Partial<MDCFooAdapter>.\n    // To ensure we don't accidentally omit any methods, we need a separate, strongly typed adapter variable.\n    // tslint:disable:object-literal-sort-keys Methods should be in the same order as the adapter interface.\n\n\n    var adapter = {\n      addClass: function (className) {\n        return _this.root.classList.add(className);\n      },\n      removeClass: function (className) {\n        return _this.root.classList.remove(className);\n      },\n      hasClass: function (className) {\n        return _this.root.classList.contains(className);\n      },\n      hasAnchor: function () {\n        return !!_this.anchorElement;\n      },\n      notifyClose: function () {\n        return _this.emit(MDCMenuSurfaceFoundation.strings.CLOSED_EVENT, {});\n      },\n      notifyOpen: function () {\n        return _this.emit(MDCMenuSurfaceFoundation.strings.OPENED_EVENT, {});\n      },\n      isElementInContainer: function (el) {\n        return _this.root.contains(el);\n      },\n      isRtl: function () {\n        return getComputedStyle(_this.root).getPropertyValue('direction') === 'rtl';\n      },\n      setTransformOrigin: function (origin) {\n        var propertyName = util.getTransformPropertyName(window) + \"-origin\";\n\n        _this.root.style.setProperty(propertyName, origin);\n      },\n      isFocused: function () {\n        return document.activeElement === _this.root;\n      },\n      saveFocus: function () {\n        _this.previousFocus = document.activeElement;\n      },\n      restoreFocus: function () {\n        if (_this.root.contains(document.activeElement)) {\n          if (_this.previousFocus && _this.previousFocus.focus) {\n            _this.previousFocus.focus();\n          }\n        }\n      },\n      getInnerDimensions: function () {\n        return {\n          width: _this.root.offsetWidth,\n          height: _this.root.offsetHeight\n        };\n      },\n      getAnchorDimensions: function () {\n        return _this.anchorElement ? _this.anchorElement.getBoundingClientRect() : null;\n      },\n      getWindowDimensions: function () {\n        return {\n          width: window.innerWidth,\n          height: window.innerHeight\n        };\n      },\n      getBodyDimensions: function () {\n        return {\n          width: document.body.clientWidth,\n          height: document.body.clientHeight\n        };\n      },\n      getWindowScroll: function () {\n        return {\n          x: window.pageXOffset,\n          y: window.pageYOffset\n        };\n      },\n      setPosition: function (position) {\n        var rootHTML = _this.root;\n        rootHTML.style.left = 'left' in position ? position.left + \"px\" : '';\n        rootHTML.style.right = 'right' in position ? position.right + \"px\" : '';\n        rootHTML.style.top = 'top' in position ? position.top + \"px\" : '';\n        rootHTML.style.bottom = 'bottom' in position ? position.bottom + \"px\" : '';\n      },\n      setMaxHeight: function (height) {\n        _this.root.style.maxHeight = height;\n      }\n    }; // tslint:enable:object-literal-sort-keys\n\n    return new MDCMenuSurfaceFoundation(adapter);\n  };\n\n  return MDCMenuSurface;\n}(MDCComponent);\n\nexport { MDCMenuSurface };","map":{"version":3,"sources":["component.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport { __extends } from \"tslib\";\nimport { MDCComponent } from '@material/base/component';\nimport { cssClasses, strings } from './constants';\nimport { MDCMenuSurfaceFoundation } from './foundation';\nimport * as util from './util';\nvar MDCMenuSurface = /** @class */ (function (_super) {\n    __extends(MDCMenuSurface, _super);\n    function MDCMenuSurface() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MDCMenuSurface.attachTo = function (root) {\n        return new MDCMenuSurface(root);\n    };\n    MDCMenuSurface.prototype.initialSyncWithDOM = function () {\n        var _this = this;\n        var parentEl = this.root.parentElement;\n        this.anchorElement = parentEl && parentEl.classList.contains(cssClasses.ANCHOR) ? parentEl : null;\n        if (this.root.classList.contains(cssClasses.FIXED)) {\n            this.setFixedPosition(true);\n        }\n        this.handleKeydown = function (event) {\n            _this.foundation.handleKeydown(event);\n        };\n        this.handleBodyClick = function (event) {\n            _this.foundation.handleBodyClick(event);\n        };\n        // capture so that no race between handleBodyClick and quickOpen when\n        // menusurface opened on button click which registers this listener\n        this.registerBodyClickListener = function () {\n            document.body.addEventListener('click', _this.handleBodyClick, { capture: true });\n        };\n        this.deregisterBodyClickListener = function () {\n            document.body.removeEventListener('click', _this.handleBodyClick);\n        };\n        this.listen('keydown', this.handleKeydown);\n        this.listen(strings.OPENED_EVENT, this.registerBodyClickListener);\n        this.listen(strings.CLOSED_EVENT, this.deregisterBodyClickListener);\n    };\n    MDCMenuSurface.prototype.destroy = function () {\n        this.unlisten('keydown', this.handleKeydown);\n        this.unlisten(strings.OPENED_EVENT, this.registerBodyClickListener);\n        this.unlisten(strings.CLOSED_EVENT, this.deregisterBodyClickListener);\n        _super.prototype.destroy.call(this);\n    };\n    MDCMenuSurface.prototype.isOpen = function () {\n        return this.foundation.isOpen();\n    };\n    MDCMenuSurface.prototype.open = function () {\n        this.foundation.open();\n    };\n    MDCMenuSurface.prototype.close = function (skipRestoreFocus) {\n        if (skipRestoreFocus === void 0) { skipRestoreFocus = false; }\n        this.foundation.close(skipRestoreFocus);\n    };\n    Object.defineProperty(MDCMenuSurface.prototype, \"quickOpen\", {\n        set: function (quickOpen) {\n            this.foundation.setQuickOpen(quickOpen);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /** Sets the foundation to use page offsets for an positioning when the menu is hoisted to the body. */\n    MDCMenuSurface.prototype.setIsHoisted = function (isHoisted) {\n        this.foundation.setIsHoisted(isHoisted);\n    };\n    /** Sets the element that the menu-surface is anchored to. */\n    MDCMenuSurface.prototype.setMenuSurfaceAnchorElement = function (element) {\n        this.anchorElement = element;\n    };\n    /** Sets the menu-surface to position: fixed. */\n    MDCMenuSurface.prototype.setFixedPosition = function (isFixed) {\n        if (isFixed) {\n            this.root.classList.add(cssClasses.FIXED);\n        }\n        else {\n            this.root.classList.remove(cssClasses.FIXED);\n        }\n        this.foundation.setFixedPosition(isFixed);\n    };\n    /** Sets the absolute x/y position to position based on. Requires the menu to be hoisted. */\n    MDCMenuSurface.prototype.setAbsolutePosition = function (x, y) {\n        this.foundation.setAbsolutePosition(x, y);\n        this.setIsHoisted(true);\n    };\n    /**\n     * @param corner Default anchor corner alignment of top-left surface corner.\n     */\n    MDCMenuSurface.prototype.setAnchorCorner = function (corner) {\n        this.foundation.setAnchorCorner(corner);\n    };\n    MDCMenuSurface.prototype.setAnchorMargin = function (margin) {\n        this.foundation.setAnchorMargin(margin);\n    };\n    MDCMenuSurface.prototype.getDefaultFoundation = function () {\n        var _this = this;\n        // DO NOT INLINE this variable. For backward compatibility, foundations take a Partial<MDCFooAdapter>.\n        // To ensure we don't accidentally omit any methods, we need a separate, strongly typed adapter variable.\n        // tslint:disable:object-literal-sort-keys Methods should be in the same order as the adapter interface.\n        var adapter = {\n            addClass: function (className) { return _this.root.classList.add(className); },\n            removeClass: function (className) { return _this.root.classList.remove(className); },\n            hasClass: function (className) { return _this.root.classList.contains(className); },\n            hasAnchor: function () { return !!_this.anchorElement; },\n            notifyClose: function () {\n                return _this.emit(MDCMenuSurfaceFoundation.strings.CLOSED_EVENT, {});\n            },\n            notifyOpen: function () {\n                return _this.emit(MDCMenuSurfaceFoundation.strings.OPENED_EVENT, {});\n            },\n            isElementInContainer: function (el) { return _this.root.contains(el); },\n            isRtl: function () {\n                return getComputedStyle(_this.root).getPropertyValue('direction') === 'rtl';\n            },\n            setTransformOrigin: function (origin) {\n                var propertyName = util.getTransformPropertyName(window) + \"-origin\";\n                _this.root.style.setProperty(propertyName, origin);\n            },\n            isFocused: function () { return document.activeElement === _this.root; },\n            saveFocus: function () {\n                _this.previousFocus =\n                    document.activeElement;\n            },\n            restoreFocus: function () {\n                if (_this.root.contains(document.activeElement)) {\n                    if (_this.previousFocus && _this.previousFocus.focus) {\n                        _this.previousFocus.focus();\n                    }\n                }\n            },\n            getInnerDimensions: function () {\n                return {\n                    width: _this.root.offsetWidth,\n                    height: _this.root.offsetHeight\n                };\n            },\n            getAnchorDimensions: function () { return _this.anchorElement ?\n                _this.anchorElement.getBoundingClientRect() :\n                null; },\n            getWindowDimensions: function () {\n                return { width: window.innerWidth, height: window.innerHeight };\n            },\n            getBodyDimensions: function () {\n                return { width: document.body.clientWidth, height: document.body.clientHeight };\n            },\n            getWindowScroll: function () {\n                return { x: window.pageXOffset, y: window.pageYOffset };\n            },\n            setPosition: function (position) {\n                var rootHTML = _this.root;\n                rootHTML.style.left = 'left' in position ? position.left + \"px\" : '';\n                rootHTML.style.right = 'right' in position ? position.right + \"px\" : '';\n                rootHTML.style.top = 'top' in position ? position.top + \"px\" : '';\n                rootHTML.style.bottom =\n                    'bottom' in position ? position.bottom + \"px\" : '';\n            },\n            setMaxHeight: function (height) {\n                _this.root.style.maxHeight = height;\n            },\n        };\n        // tslint:enable:object-literal-sort-keys\n        return new MDCMenuSurfaceFoundation(adapter);\n    };\n    return MDCMenuSurface;\n}(MDCComponent));\nexport { MDCMenuSurface };\n//# sourceMappingURL=component.js.map"]},"metadata":{},"sourceType":"module"}