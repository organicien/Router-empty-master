{"ast":null,"code":"/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport { __assign, __extends } from \"tslib\";\nimport { getCorrectEventName, getCorrectPropertyName } from '@material/animation/util';\nimport { MDCFoundation } from '@material/base/foundation';\nimport { cssClasses, numbers, strings } from './constants'; // Accessing `window` without a `typeof` check will throw on Node environments.\n\nvar hasWindow = typeof window !== 'undefined';\nvar hasPointerEventSupport = hasWindow && !!window.PointerEvent;\nvar DOWN_EVENTS = hasPointerEventSupport ? ['pointerdown'] : ['mousedown', 'touchstart'];\nvar UP_EVENTS = hasPointerEventSupport ? ['pointerup'] : ['mouseup', 'touchend'];\nvar MOVE_EVENT_MAP = {\n  mousedown: 'mousemove',\n  pointerdown: 'pointermove',\n  touchstart: 'touchmove'\n};\nvar KEY_IDS = {\n  ARROW_DOWN: 'ArrowDown',\n  ARROW_LEFT: 'ArrowLeft',\n  ARROW_RIGHT: 'ArrowRight',\n  ARROW_UP: 'ArrowUp',\n  END: 'End',\n  HOME: 'Home',\n  PAGE_DOWN: 'PageDown',\n  PAGE_UP: 'PageUp'\n};\n\nvar MDCSliderFoundation =\n/** @class */\nfunction (_super) {\n  __extends(MDCSliderFoundation, _super);\n\n  function MDCSliderFoundation(adapter) {\n    var _this = _super.call(this, __assign(__assign({}, MDCSliderFoundation.defaultAdapter), adapter)) || this;\n    /**\n     * We set this to NaN since we want it to be a number, but we can't use '0' or\n     * '-1' because those could be valid tabindices set by the client code.\n     */\n\n\n    _this.savedTabIndex_ = NaN;\n    _this.active_ = false;\n    _this.inTransit_ = false;\n    _this.isDiscrete_ = false;\n    _this.hasTrackMarker_ = false;\n    _this.handlingThumbTargetEvt_ = false;\n    _this.min_ = 0;\n    _this.max_ = 100;\n    _this.step_ = 0;\n    _this.value_ = 0;\n    _this.disabled_ = false;\n    _this.preventFocusState_ = false;\n\n    _this.thumbContainerPointerHandler_ = function () {\n      return _this.handlingThumbTargetEvt_ = true;\n    };\n\n    _this.interactionStartHandler_ = function (evt) {\n      return _this.handleDown_(evt);\n    };\n\n    _this.keydownHandler_ = function (evt) {\n      return _this.handleKeydown_(evt);\n    };\n\n    _this.focusHandler_ = function () {\n      return _this.handleFocus_();\n    };\n\n    _this.blurHandler_ = function () {\n      return _this.handleBlur_();\n    };\n\n    _this.resizeHandler_ = function () {\n      return _this.layout();\n    };\n\n    return _this;\n  }\n\n  Object.defineProperty(MDCSliderFoundation, \"cssClasses\", {\n    get: function () {\n      return cssClasses;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MDCSliderFoundation, \"strings\", {\n    get: function () {\n      return strings;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MDCSliderFoundation, \"numbers\", {\n    get: function () {\n      return numbers;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MDCSliderFoundation, \"defaultAdapter\", {\n    get: function () {\n      // tslint:disable:object-literal-sort-keys Methods should be in the same\n      // order as the adapter interface.\n      return {\n        hasClass: function () {\n          return false;\n        },\n        addClass: function () {\n          return undefined;\n        },\n        removeClass: function () {\n          return undefined;\n        },\n        getAttribute: function () {\n          return null;\n        },\n        setAttribute: function () {\n          return undefined;\n        },\n        removeAttribute: function () {\n          return undefined;\n        },\n        computeBoundingRect: function () {\n          return {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0,\n            width: 0,\n            height: 0\n          };\n        },\n        getTabIndex: function () {\n          return 0;\n        },\n        registerInteractionHandler: function () {\n          return undefined;\n        },\n        deregisterInteractionHandler: function () {\n          return undefined;\n        },\n        registerThumbContainerInteractionHandler: function () {\n          return undefined;\n        },\n        deregisterThumbContainerInteractionHandler: function () {\n          return undefined;\n        },\n        registerBodyInteractionHandler: function () {\n          return undefined;\n        },\n        deregisterBodyInteractionHandler: function () {\n          return undefined;\n        },\n        registerResizeHandler: function () {\n          return undefined;\n        },\n        deregisterResizeHandler: function () {\n          return undefined;\n        },\n        notifyInput: function () {\n          return undefined;\n        },\n        notifyChange: function () {\n          return undefined;\n        },\n        setThumbContainerStyleProperty: function () {\n          return undefined;\n        },\n        setTrackStyleProperty: function () {\n          return undefined;\n        },\n        setMarkerValue: function () {\n          return undefined;\n        },\n        setTrackMarkers: function () {\n          return undefined;\n        },\n        isRTL: function () {\n          return false;\n        }\n      }; // tslint:enable:object-literal-sort-keys\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  MDCSliderFoundation.prototype.init = function () {\n    var _this = this;\n\n    this.isDiscrete_ = this.adapter.hasClass(cssClasses.IS_DISCRETE);\n    this.hasTrackMarker_ = this.adapter.hasClass(cssClasses.HAS_TRACK_MARKER);\n    DOWN_EVENTS.forEach(function (evtName) {\n      _this.adapter.registerInteractionHandler(evtName, _this.interactionStartHandler_);\n\n      _this.adapter.registerThumbContainerInteractionHandler(evtName, _this.thumbContainerPointerHandler_);\n    });\n\n    if (hasPointerEventSupport) {\n      /*\n       * When pointermove happens, if too much sliding happens, the browser\n       * believes you are panning in the x direction and stops firing\n       * pointermove events and supplies its own gestures. (similar to\n       * preventing default on touchmove)\n       */\n      this.adapter.addClass(cssClasses.DISABLE_TOUCH_ACTION);\n    }\n\n    this.adapter.registerInteractionHandler('keydown', this.keydownHandler_);\n    this.adapter.registerInteractionHandler('focus', this.focusHandler_);\n    this.adapter.registerInteractionHandler('blur', this.blurHandler_);\n    this.adapter.registerResizeHandler(this.resizeHandler_);\n    this.layout(); // At last step, provide a reasonable default value to discrete slider\n\n    if (this.isDiscrete_ && this.getStep() === 0) {\n      this.step_ = 1;\n    }\n  };\n\n  MDCSliderFoundation.prototype.destroy = function () {\n    var _this = this;\n\n    DOWN_EVENTS.forEach(function (evtName) {\n      _this.adapter.deregisterInteractionHandler(evtName, _this.interactionStartHandler_);\n\n      _this.adapter.deregisterThumbContainerInteractionHandler(evtName, _this.thumbContainerPointerHandler_);\n    });\n    this.adapter.deregisterInteractionHandler('keydown', this.keydownHandler_);\n    this.adapter.deregisterInteractionHandler('focus', this.focusHandler_);\n    this.adapter.deregisterInteractionHandler('blur', this.blurHandler_);\n    this.adapter.deregisterResizeHandler(this.resizeHandler_);\n  };\n\n  MDCSliderFoundation.prototype.setupTrackMarker = function () {\n    if (this.isDiscrete_ && this.hasTrackMarker_ && this.getStep() !== 0) {\n      this.adapter.setTrackMarkers(this.getStep(), this.getMax(), this.getMin());\n    }\n  };\n\n  MDCSliderFoundation.prototype.layout = function () {\n    this.rect_ = this.adapter.computeBoundingRect();\n    this.updateUIForCurrentValue_();\n  };\n\n  MDCSliderFoundation.prototype.getValue = function () {\n    return this.value_;\n  };\n\n  MDCSliderFoundation.prototype.setValue = function (value) {\n    this.setValue_(value, false);\n  };\n\n  MDCSliderFoundation.prototype.getMax = function () {\n    return this.max_;\n  };\n\n  MDCSliderFoundation.prototype.setMax = function (max) {\n    if (max < this.min_) {\n      throw new Error('Cannot set max to be less than the slider\\'s minimum value');\n    }\n\n    this.max_ = max;\n    this.setValue_(this.value_, false, true);\n    this.adapter.setAttribute(strings.ARIA_VALUEMAX, String(this.max_));\n    this.setupTrackMarker();\n  };\n\n  MDCSliderFoundation.prototype.getMin = function () {\n    return this.min_;\n  };\n\n  MDCSliderFoundation.prototype.setMin = function (min) {\n    if (min > this.max_) {\n      throw new Error('Cannot set min to be greater than the slider\\'s maximum value');\n    }\n\n    this.min_ = min;\n    this.setValue_(this.value_, false, true);\n    this.adapter.setAttribute(strings.ARIA_VALUEMIN, String(this.min_));\n    this.setupTrackMarker();\n  };\n\n  MDCSliderFoundation.prototype.getStep = function () {\n    return this.step_;\n  };\n\n  MDCSliderFoundation.prototype.setStep = function (step) {\n    if (step < 0) {\n      throw new Error('Step cannot be set to a negative number');\n    }\n\n    if (this.isDiscrete_ && (typeof step !== 'number' || step < 1)) {\n      step = 1;\n    }\n\n    this.step_ = step;\n    this.setValue_(this.value_, false, true);\n    this.setupTrackMarker();\n  };\n\n  MDCSliderFoundation.prototype.isDisabled = function () {\n    return this.disabled_;\n  };\n\n  MDCSliderFoundation.prototype.setDisabled = function (disabled) {\n    this.disabled_ = disabled;\n    this.toggleClass_(cssClasses.DISABLED, this.disabled_);\n\n    if (this.disabled_) {\n      this.savedTabIndex_ = this.adapter.getTabIndex();\n      this.adapter.setAttribute(strings.ARIA_DISABLED, 'true');\n      this.adapter.removeAttribute('tabindex');\n    } else {\n      this.adapter.removeAttribute(strings.ARIA_DISABLED);\n\n      if (!isNaN(this.savedTabIndex_)) {\n        this.adapter.setAttribute('tabindex', String(this.savedTabIndex_));\n      }\n    }\n  };\n  /**\n   * Called when the user starts interacting with the slider\n   */\n\n\n  MDCSliderFoundation.prototype.handleDown_ = function (downEvent) {\n    var _this = this;\n\n    if (this.disabled_) {\n      return;\n    }\n\n    this.preventFocusState_ = true;\n    this.setInTransit_(!this.handlingThumbTargetEvt_);\n    this.handlingThumbTargetEvt_ = false;\n    this.setActive_(true);\n\n    var moveHandler = function (moveEvent) {\n      _this.handleMove_(moveEvent);\n    };\n\n    var moveEventType = MOVE_EVENT_MAP[downEvent.type]; // Note: upHandler is [de]registered on ALL potential pointer-related\n    // release event types, since some browsers do not always fire these\n    // consistently in pairs. (See\n    // https://github.com/material-components/material-components-web/issues/1192)\n\n    var upHandler = function () {\n      _this.handleUp_();\n\n      _this.adapter.deregisterBodyInteractionHandler(moveEventType, moveHandler);\n\n      UP_EVENTS.forEach(function (evtName) {\n        return _this.adapter.deregisterBodyInteractionHandler(evtName, upHandler);\n      });\n    };\n\n    this.adapter.registerBodyInteractionHandler(moveEventType, moveHandler);\n    UP_EVENTS.forEach(function (evtName) {\n      return _this.adapter.registerBodyInteractionHandler(evtName, upHandler);\n    });\n    this.setValueFromEvt_(downEvent);\n  };\n  /**\n   * Called when the user moves the slider\n   */\n\n\n  MDCSliderFoundation.prototype.handleMove_ = function (evt) {\n    evt.preventDefault();\n    this.setValueFromEvt_(evt);\n  };\n  /**\n   * Called when the user's interaction with the slider ends\n   */\n\n\n  MDCSliderFoundation.prototype.handleUp_ = function () {\n    this.setActive_(false);\n    this.adapter.notifyChange();\n  };\n  /**\n   * Returns the clientX of the event\n   */\n\n\n  MDCSliderFoundation.prototype.getClientX_ = function (evt) {\n    if (evt.targetTouches && evt.targetTouches.length > 0) {\n      return evt.targetTouches[0].clientX;\n    }\n\n    return evt.clientX;\n  };\n  /**\n   * Sets the slider value from an event\n   */\n\n\n  MDCSliderFoundation.prototype.setValueFromEvt_ = function (evt) {\n    var clientX = this.getClientX_(evt);\n    var value = this.computeValueFromClientX_(clientX);\n    this.setValue_(value, true);\n  };\n  /**\n   * Computes the new value from the clientX position\n   */\n\n\n  MDCSliderFoundation.prototype.computeValueFromClientX_ = function (clientX) {\n    var _a = this,\n        max = _a.max_,\n        min = _a.min_;\n\n    var xPos = clientX - this.rect_.left;\n    var pctComplete = xPos / this.rect_.width;\n\n    if (this.adapter.isRTL()) {\n      pctComplete = 1 - pctComplete;\n    } // Fit the percentage complete between the range [min,max]\n    // by remapping from [0, 1] to [min, min+(max-min)].\n\n\n    return min + pctComplete * (max - min);\n  };\n  /**\n   * Handles keydown events\n   */\n\n\n  MDCSliderFoundation.prototype.handleKeydown_ = function (evt) {\n    var keyId = this.getKeyId_(evt);\n    var value = this.getValueForKeyId_(keyId);\n\n    if (isNaN(value)) {\n      return;\n    } // Prevent page from scrolling due to key presses that would normally scroll\n    // the page\n\n\n    evt.preventDefault();\n    this.adapter.addClass(cssClasses.FOCUS);\n    this.setValue_(value, true);\n    this.adapter.notifyChange();\n  };\n  /**\n   * Returns the computed name of the event\n   */\n\n\n  MDCSliderFoundation.prototype.getKeyId_ = function (kbdEvt) {\n    if (kbdEvt.key === KEY_IDS.ARROW_LEFT || kbdEvt.keyCode === 37) {\n      return KEY_IDS.ARROW_LEFT;\n    }\n\n    if (kbdEvt.key === KEY_IDS.ARROW_RIGHT || kbdEvt.keyCode === 39) {\n      return KEY_IDS.ARROW_RIGHT;\n    }\n\n    if (kbdEvt.key === KEY_IDS.ARROW_UP || kbdEvt.keyCode === 38) {\n      return KEY_IDS.ARROW_UP;\n    }\n\n    if (kbdEvt.key === KEY_IDS.ARROW_DOWN || kbdEvt.keyCode === 40) {\n      return KEY_IDS.ARROW_DOWN;\n    }\n\n    if (kbdEvt.key === KEY_IDS.HOME || kbdEvt.keyCode === 36) {\n      return KEY_IDS.HOME;\n    }\n\n    if (kbdEvt.key === KEY_IDS.END || kbdEvt.keyCode === 35) {\n      return KEY_IDS.END;\n    }\n\n    if (kbdEvt.key === KEY_IDS.PAGE_UP || kbdEvt.keyCode === 33) {\n      return KEY_IDS.PAGE_UP;\n    }\n\n    if (kbdEvt.key === KEY_IDS.PAGE_DOWN || kbdEvt.keyCode === 34) {\n      return KEY_IDS.PAGE_DOWN;\n    }\n\n    return '';\n  };\n  /**\n   * Computes the value given a keyboard key ID\n   */\n\n\n  MDCSliderFoundation.prototype.getValueForKeyId_ = function (keyId) {\n    var _a = this,\n        max = _a.max_,\n        min = _a.min_,\n        step = _a.step_;\n\n    var delta = step || (max - min) / 100;\n    var valueNeedsToBeFlipped = this.adapter.isRTL() && (keyId === KEY_IDS.ARROW_LEFT || keyId === KEY_IDS.ARROW_RIGHT);\n\n    if (valueNeedsToBeFlipped) {\n      delta = -delta;\n    }\n\n    switch (keyId) {\n      case KEY_IDS.ARROW_LEFT:\n      case KEY_IDS.ARROW_DOWN:\n        return this.value_ - delta;\n\n      case KEY_IDS.ARROW_RIGHT:\n      case KEY_IDS.ARROW_UP:\n        return this.value_ + delta;\n\n      case KEY_IDS.HOME:\n        return this.min_;\n\n      case KEY_IDS.END:\n        return this.max_;\n\n      case KEY_IDS.PAGE_UP:\n        return this.value_ + delta * numbers.PAGE_FACTOR;\n\n      case KEY_IDS.PAGE_DOWN:\n        return this.value_ - delta * numbers.PAGE_FACTOR;\n\n      default:\n        return NaN;\n    }\n  };\n\n  MDCSliderFoundation.prototype.handleFocus_ = function () {\n    if (this.preventFocusState_) {\n      return;\n    }\n\n    this.adapter.addClass(cssClasses.FOCUS);\n  };\n\n  MDCSliderFoundation.prototype.handleBlur_ = function () {\n    this.preventFocusState_ = false;\n    this.adapter.removeClass(cssClasses.FOCUS);\n  };\n  /**\n   * Sets the value of the slider\n   */\n\n\n  MDCSliderFoundation.prototype.setValue_ = function (value, shouldFireInput, force) {\n    if (force === void 0) {\n      force = false;\n    }\n\n    if (value === this.value_ && !force) {\n      return;\n    }\n\n    var _a = this,\n        min = _a.min_,\n        max = _a.max_;\n\n    var valueSetToBoundary = value === min || value === max;\n\n    if (this.step_ && !valueSetToBoundary) {\n      value = this.quantize_(value);\n    }\n\n    if (value < min) {\n      value = min;\n    } else if (value > max) {\n      value = max;\n    }\n\n    value = value || 0; // coerce -0 to 0\n\n    this.value_ = value;\n    this.adapter.setAttribute(strings.ARIA_VALUENOW, String(this.value_));\n    this.updateUIForCurrentValue_();\n\n    if (shouldFireInput) {\n      this.adapter.notifyInput();\n\n      if (this.isDiscrete_) {\n        this.adapter.setMarkerValue(value);\n      }\n    }\n  };\n  /**\n   * Calculates the quantized value\n   */\n\n\n  MDCSliderFoundation.prototype.quantize_ = function (value) {\n    var numSteps = Math.round(value / this.step_);\n    return numSteps * this.step_;\n  };\n\n  MDCSliderFoundation.prototype.updateUIForCurrentValue_ = function () {\n    var _this = this;\n\n    var _a = this,\n        max = _a.max_,\n        min = _a.min_,\n        value = _a.value_;\n\n    var pctComplete = (value - min) / (max - min);\n    var translatePx = pctComplete * this.rect_.width;\n\n    if (this.adapter.isRTL()) {\n      translatePx = this.rect_.width - translatePx;\n    }\n\n    var transformProp = hasWindow ? getCorrectPropertyName(window, 'transform') : 'transform';\n    var transitionendEvtName = hasWindow ? getCorrectEventName(window, 'transitionend') : 'transitionend';\n\n    if (this.inTransit_) {\n      var onTransitionEnd_1 = function () {\n        _this.setInTransit_(false);\n\n        _this.adapter.deregisterThumbContainerInteractionHandler(transitionendEvtName, onTransitionEnd_1);\n      };\n\n      this.adapter.registerThumbContainerInteractionHandler(transitionendEvtName, onTransitionEnd_1);\n    }\n\n    requestAnimationFrame(function () {\n      // NOTE(traviskaufman): It would be nice to use calc() here,\n      // but IE cannot handle calcs in transforms correctly.\n      // See: https://goo.gl/NC2itk\n      // Also note that the -50% offset is used to center the slider thumb.\n      _this.adapter.setThumbContainerStyleProperty(transformProp, \"translateX(\" + translatePx + \"px) translateX(-50%)\");\n\n      _this.adapter.setTrackStyleProperty(transformProp, \"scaleX(\" + pctComplete + \")\");\n    });\n  };\n  /**\n   * Toggles the active state of the slider\n   */\n\n\n  MDCSliderFoundation.prototype.setActive_ = function (active) {\n    this.active_ = active;\n    this.toggleClass_(cssClasses.ACTIVE, this.active_);\n  };\n  /**\n   * Toggles the inTransit state of the slider\n   */\n\n\n  MDCSliderFoundation.prototype.setInTransit_ = function (inTransit) {\n    this.inTransit_ = inTransit;\n    this.toggleClass_(cssClasses.IN_TRANSIT, this.inTransit_);\n  };\n  /**\n   * Conditionally adds or removes a class based on shouldBePresent\n   */\n\n\n  MDCSliderFoundation.prototype.toggleClass_ = function (className, shouldBePresent) {\n    if (shouldBePresent) {\n      this.adapter.addClass(className);\n    } else {\n      this.adapter.removeClass(className);\n    }\n  };\n\n  return MDCSliderFoundation;\n}(MDCFoundation);\n\nexport { MDCSliderFoundation }; // tslint:disable-next-line:no-default-export Needed for backward compatibility\n// with MDC Web v0.44.0 and earlier.\n\nexport default MDCSliderFoundation;","map":{"version":3,"sources":["foundation.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;AAuBA,SAAQ,mBAAR,EAA6B,sBAA7B,QAA0D,0BAA1D;AACA,SAAQ,aAAR,QAA4B,2BAA5B;AAGA,SAAQ,UAAR,EAAoB,OAApB,EAA6B,OAA7B,QAA2C,aAA3C,C,CAWA;;AACA,IAAM,SAAS,GAAG,OAAO,MAAP,KAAkB,WAApC;AACA,IAAM,sBAAsB,GAAG,SAAS,IAAI,CAAC,CAAC,MAAM,CAAC,YAArD;AAEA,IAAM,WAAW,GACb,sBAAsB,GAAG,CAAC,aAAD,CAAH,GAAqB,CAAC,WAAD,EAAc,YAAd,CAD/C;AAEA,IAAM,SAAS,GACX,sBAAsB,GAAG,CAAC,WAAD,CAAH,GAAmB,CAAC,SAAD,EAAY,UAAZ,CAD7C;AAGA,IAAM,cAAc,GAAiB;AACnC,EAAA,SAAS,EAAE,WADwB;AAEnC,EAAA,WAAW,EAAE,aAFsB;AAGnC,EAAA,UAAU,EAAE;AAHuB,CAArC;AAMA,IAAM,OAAO,GAAG;AACd,EAAA,UAAU,EAAE,WADE;AAEd,EAAA,UAAU,EAAE,WAFE;AAGd,EAAA,WAAW,EAAE,YAHC;AAId,EAAA,QAAQ,EAAE,SAJI;AAKd,EAAA,GAAG,EAAE,KALS;AAMd,EAAA,IAAI,EAAE,MANQ;AAOd,EAAA,SAAS,EAAE,UAPG;AAQd,EAAA,OAAO,EAAE;AARK,CAAhB;;AAWA,IAAA,mBAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAyC,EAAA,SAAA,CAAA,mBAAA,EAAA,MAAA,CAAA;;AA0EvC,WAAA,mBAAA,CAAY,OAAZ,EAA+C;AAA/C,QAAA,KAAA,GACE,MAAA,CAAA,IAAA,CAAA,IAAA,EAAA,QAAA,CAAA,QAAA,CAAA,EAAA,EAAU,mBAAmB,CAAC,cAA9B,CAAA,EAAiD,OAAjD,CAAA,KAA0D,IAD5D;AA3BA;;;;;;AAIQ,IAAA,KAAA,CAAA,cAAA,GAAiB,GAAjB;AAEA,IAAA,KAAA,CAAA,OAAA,GAAU,KAAV;AACA,IAAA,KAAA,CAAA,UAAA,GAAa,KAAb;AACA,IAAA,KAAA,CAAA,WAAA,GAAc,KAAd;AACA,IAAA,KAAA,CAAA,eAAA,GAAkB,KAAlB;AACA,IAAA,KAAA,CAAA,uBAAA,GAA0B,KAA1B;AACA,IAAA,KAAA,CAAA,IAAA,GAAO,CAAP;AACA,IAAA,KAAA,CAAA,IAAA,GAAO,GAAP;AACA,IAAA,KAAA,CAAA,KAAA,GAAQ,CAAR;AACA,IAAA,KAAA,CAAA,MAAA,GAAS,CAAT;AACA,IAAA,KAAA,CAAA,SAAA,GAAY,KAAZ;AACA,IAAA,KAAA,CAAA,kBAAA,GAAqB,KAArB;;AAcN,IAAA,KAAI,CAAC,6BAAL,GAAqC,YAAA;AAAM,aAAA,KAAI,CAAC,uBAAL,GAAA,IAAA;AACnC,KADR;;AAEA,IAAA,KAAI,CAAC,wBAAL,GAAgC,UAAC,GAAD,EAAoB;AAChD,aAAA,KAAI,CAAC,WAAL,CAAiB,GAAjB,CAAA;AAAqB,KADzB;;AAEA,IAAA,KAAI,CAAC,eAAL,GAAuB,UAAC,GAAD,EAAI;AAAK,aAAA,KAAI,CAAC,cAAL,CAAA,GAAA,CAAA;AAAwB,KAAxD;;AACA,IAAA,KAAI,CAAC,aAAL,GAAqB,YAAA;AAAM,aAAA,KAAI,CAAJ,YAAA,EAAA;AAAmB,KAA9C;;AACA,IAAA,KAAI,CAAC,YAAL,GAAoB,YAAA;AAAM,aAAA,KAAI,CAAJ,WAAA,EAAA;AAAkB,KAA5C;;AACA,IAAA,KAAI,CAAC,cAAL,GAAsB,YAAA;AAAM,aAAA,KAAI,CAAJ,MAAA,EAAA;AAAa,KAAzC;;;AACD;;AApFD,EAAA,MAAA,CAAA,cAAA,CAAW,mBAAX,EAAW,YAAX,EAAqB;SAArB,YAAA;AACE,aAAO,UAAP;AACD,KAFoB;oBAAA;;AAAA,GAArB;AAIA,EAAA,MAAA,CAAA,cAAA,CAAW,mBAAX,EAAW,SAAX,EAAkB;SAAlB,YAAA;AACE,aAAO,OAAP;AACD,KAFiB;oBAAA;;AAAA,GAAlB;AAIA,EAAA,MAAA,CAAA,cAAA,CAAW,mBAAX,EAAW,SAAX,EAAkB;SAAlB,YAAA;AACE,aAAO,OAAP;AACD,KAFiB;oBAAA;;AAAA,GAAlB;AAIA,EAAA,MAAA,CAAA,cAAA,CAAW,mBAAX,EAAW,gBAAX,EAAyB;SAAzB,YAAA;AACE;AACA;AACA,aAAO;AACL,QAAA,QAAQ,EAAE,YAAA;AAAM,iBAAA,KAAA;AAAK,SADhB;AAEL,QAAA,QAAQ,EAAE,YAAA;AAAM,iBAAA,SAAA;AAAS,SAFpB;AAGL,QAAA,WAAW,EAAE,YAAA;AAAM,iBAAA,SAAA;AAAS,SAHvB;AAIL,QAAA,YAAY,EAAE,YAAA;AAAM,iBAAA,IAAA;AAAI,SAJnB;AAKL,QAAA,YAAY,EAAE,YAAA;AAAM,iBAAA,SAAA;AAAS,SALxB;AAML,QAAA,eAAe,EAAE,YAAA;AAAM,iBAAA,SAAA;AAAS,SAN3B;AAOL,QAAA,mBAAmB,EAAE,YAAA;AACjB,iBAAC;AAAC,YAAA,GAAG,EAAE,CAAN;AAAS,YAAA,KAAK,EAAE,CAAhB;AAAmB,YAAA,MAAM,EAAE,CAA3B;AAA8B,YAAA,IAAI,EAAE,CAApC;AAAuC,YAAA,KAAK,EAAE,CAA9C;AAAiD,YAAA,MAAM,EAAE;AAAzD,WAAD;AAA6D,SAR5D;AASL,QAAA,WAAW,EAAE,YAAA;AAAM,iBAAA,CAAA;AAAC,SATf;AAUL,QAAA,0BAA0B,EAAE,YAAA;AAAM,iBAAA,SAAA;AAAS,SAVtC;AAWL,QAAA,4BAA4B,EAAE,YAAA;AAAM,iBAAA,SAAA;AAAS,SAXxC;AAYL,QAAA,wCAAwC,EAAE,YAAA;AAAM,iBAAA,SAAA;AAAS,SAZpD;AAaL,QAAA,0CAA0C,EAAE,YAAA;AAAM,iBAAA,SAAA;AAAS,SAbtD;AAcL,QAAA,8BAA8B,EAAE,YAAA;AAAM,iBAAA,SAAA;AAAS,SAd1C;AAeL,QAAA,gCAAgC,EAAE,YAAA;AAAM,iBAAA,SAAA;AAAS,SAf5C;AAgBL,QAAA,qBAAqB,EAAE,YAAA;AAAM,iBAAA,SAAA;AAAS,SAhBjC;AAiBL,QAAA,uBAAuB,EAAE,YAAA;AAAM,iBAAA,SAAA;AAAS,SAjBnC;AAkBL,QAAA,WAAW,EAAE,YAAA;AAAM,iBAAA,SAAA;AAAS,SAlBvB;AAmBL,QAAA,YAAY,EAAE,YAAA;AAAM,iBAAA,SAAA;AAAS,SAnBxB;AAoBL,QAAA,8BAA8B,EAAE,YAAA;AAAM,iBAAA,SAAA;AAAS,SApB1C;AAqBL,QAAA,qBAAqB,EAAE,YAAA;AAAM,iBAAA,SAAA;AAAS,SArBjC;AAsBL,QAAA,cAAc,EAAE,YAAA;AAAM,iBAAA,SAAA;AAAS,SAtB1B;AAuBL,QAAA,eAAe,EAAE,YAAA;AAAM,iBAAA,SAAA;AAAS,SAvB3B;AAwBL,QAAA,KAAK,EAAE,YAAA;AAAM,iBAAA,KAAA;AAAK;AAxBb,OAAP,CAHF,CA6BE;AACD,KA9BwB;oBAAA;;AAAA,GAAzB;;AA0EA,EAAA,mBAAA,CAAA,SAAA,CAAA,IAAA,GAAA,YAAA;AAAA,QAAA,KAAA,GAAA,IAAA;;AACE,SAAK,WAAL,GAAmB,KAAK,OAAL,CAAa,QAAb,CAAsB,UAAU,CAAC,WAAjC,CAAnB;AACA,SAAK,eAAL,GAAuB,KAAK,OAAL,CAAa,QAAb,CAAsB,UAAU,CAAC,gBAAjC,CAAvB;AAEA,IAAA,WAAW,CAAC,OAAZ,CAAoB,UAAC,OAAD,EAAQ;AAC1B,MAAA,KAAI,CAAC,OAAL,CAAa,0BAAb,CACI,OADJ,EACa,KAAI,CAAC,wBADlB;;AAEA,MAAA,KAAI,CAAC,OAAL,CAAa,wCAAb,CACI,OADJ,EACa,KAAI,CAAC,6BADlB;AAED,KALD;;AAOA,QAAI,sBAAJ,EAA4B;AAC1B;;;;;;AAMA,WAAK,OAAL,CAAa,QAAb,CAAsB,UAAU,CAAC,oBAAjC;AACD;;AAED,SAAK,OAAL,CAAa,0BAAb,CAAwC,SAAxC,EAAmD,KAAK,eAAxD;AACA,SAAK,OAAL,CAAa,0BAAb,CAAwC,OAAxC,EAAiD,KAAK,aAAtD;AACA,SAAK,OAAL,CAAa,0BAAb,CAAwC,MAAxC,EAAgD,KAAK,YAArD;AACA,SAAK,OAAL,CAAa,qBAAb,CAAmC,KAAK,cAAxC;AAEA,SAAK,MAAL,GA1BF,CA4BE;;AACA,QAAI,KAAK,WAAL,IAAoB,KAAK,OAAL,OAAmB,CAA3C,EAA8C;AAC5C,WAAK,KAAL,GAAa,CAAb;AACD;AACF,GAhCD;;AAkCA,EAAA,mBAAA,CAAA,SAAA,CAAA,OAAA,GAAA,YAAA;AAAA,QAAA,KAAA,GAAA,IAAA;;AACE,IAAA,WAAW,CAAC,OAAZ,CAAoB,UAAC,OAAD,EAAQ;AAC1B,MAAA,KAAI,CAAC,OAAL,CAAa,4BAAb,CACI,OADJ,EACa,KAAI,CAAC,wBADlB;;AAEA,MAAA,KAAI,CAAC,OAAL,CAAa,0CAAb,CACI,OADJ,EACa,KAAI,CAAC,6BADlB;AAED,KALD;AAOA,SAAK,OAAL,CAAa,4BAAb,CAA0C,SAA1C,EAAqD,KAAK,eAA1D;AACA,SAAK,OAAL,CAAa,4BAAb,CAA0C,OAA1C,EAAmD,KAAK,aAAxD;AACA,SAAK,OAAL,CAAa,4BAAb,CAA0C,MAA1C,EAAkD,KAAK,YAAvD;AACA,SAAK,OAAL,CAAa,uBAAb,CAAqC,KAAK,cAA1C;AACD,GAZD;;AAcA,EAAA,mBAAA,CAAA,SAAA,CAAA,gBAAA,GAAA,YAAA;AACE,QAAI,KAAK,WAAL,IAAoB,KAAK,eAAzB,IAA4C,KAAK,OAAL,OAAmB,CAAnE,EAAsE;AACpE,WAAK,OAAL,CAAa,eAAb,CACI,KAAK,OAAL,EADJ,EACoB,KAAK,MAAL,EADpB,EACmC,KAAK,MAAL,EADnC;AAED;AACF,GALD;;AAOA,EAAA,mBAAA,CAAA,SAAA,CAAA,MAAA,GAAA,YAAA;AACE,SAAK,KAAL,GAAa,KAAK,OAAL,CAAa,mBAAb,EAAb;AACA,SAAK,wBAAL;AACD,GAHD;;AAKA,EAAA,mBAAA,CAAA,SAAA,CAAA,QAAA,GAAA,YAAA;AACE,WAAO,KAAK,MAAZ;AACD,GAFD;;AAIA,EAAA,mBAAA,CAAA,SAAA,CAAA,QAAA,GAAA,UAAS,KAAT,EAAsB;AACpB,SAAK,SAAL,CAAe,KAAf,EAAsB,KAAtB;AACD,GAFD;;AAIA,EAAA,mBAAA,CAAA,SAAA,CAAA,MAAA,GAAA,YAAA;AACE,WAAO,KAAK,IAAZ;AACD,GAFD;;AAIA,EAAA,mBAAA,CAAA,SAAA,CAAA,MAAA,GAAA,UAAO,GAAP,EAAkB;AAChB,QAAI,GAAG,GAAG,KAAK,IAAf,EAAqB;AACnB,YAAM,IAAI,KAAJ,CACF,4DADE,CAAN;AAED;;AACD,SAAK,IAAL,GAAY,GAAZ;AACA,SAAK,SAAL,CAAe,KAAK,MAApB,EAA4B,KAA5B,EAAmC,IAAnC;AACA,SAAK,OAAL,CAAa,YAAb,CAA0B,OAAO,CAAC,aAAlC,EAAiD,MAAM,CAAC,KAAK,IAAN,CAAvD;AACA,SAAK,gBAAL;AACD,GATD;;AAWA,EAAA,mBAAA,CAAA,SAAA,CAAA,MAAA,GAAA,YAAA;AACE,WAAO,KAAK,IAAZ;AACD,GAFD;;AAIA,EAAA,mBAAA,CAAA,SAAA,CAAA,MAAA,GAAA,UAAO,GAAP,EAAkB;AAChB,QAAI,GAAG,GAAG,KAAK,IAAf,EAAqB;AACnB,YAAM,IAAI,KAAJ,CACF,+DADE,CAAN;AAED;;AACD,SAAK,IAAL,GAAY,GAAZ;AACA,SAAK,SAAL,CAAe,KAAK,MAApB,EAA4B,KAA5B,EAAmC,IAAnC;AACA,SAAK,OAAL,CAAa,YAAb,CAA0B,OAAO,CAAC,aAAlC,EAAiD,MAAM,CAAC,KAAK,IAAN,CAAvD;AACA,SAAK,gBAAL;AACD,GATD;;AAWA,EAAA,mBAAA,CAAA,SAAA,CAAA,OAAA,GAAA,YAAA;AACE,WAAO,KAAK,KAAZ;AACD,GAFD;;AAIA,EAAA,mBAAA,CAAA,SAAA,CAAA,OAAA,GAAA,UAAQ,IAAR,EAAoB;AAClB,QAAI,IAAI,GAAG,CAAX,EAAc;AACZ,YAAM,IAAI,KAAJ,CAAU,yCAAV,CAAN;AACD;;AACD,QAAI,KAAK,WAAL,KAAqB,OAAQ,IAAR,KAAkB,QAAlB,IAA8B,IAAI,GAAG,CAA1D,CAAJ,EAAkE;AAChE,MAAA,IAAI,GAAG,CAAP;AACD;;AACD,SAAK,KAAL,GAAa,IAAb;AACA,SAAK,SAAL,CAAe,KAAK,MAApB,EAA4B,KAA5B,EAAmC,IAAnC;AACA,SAAK,gBAAL;AACD,GAVD;;AAYA,EAAA,mBAAA,CAAA,SAAA,CAAA,UAAA,GAAA,YAAA;AACE,WAAO,KAAK,SAAZ;AACD,GAFD;;AAIA,EAAA,mBAAA,CAAA,SAAA,CAAA,WAAA,GAAA,UAAY,QAAZ,EAA6B;AAC3B,SAAK,SAAL,GAAiB,QAAjB;AACA,SAAK,YAAL,CAAkB,UAAU,CAAC,QAA7B,EAAuC,KAAK,SAA5C;;AACA,QAAI,KAAK,SAAT,EAAoB;AAClB,WAAK,cAAL,GAAsB,KAAK,OAAL,CAAa,WAAb,EAAtB;AACA,WAAK,OAAL,CAAa,YAAb,CAA0B,OAAO,CAAC,aAAlC,EAAiD,MAAjD;AACA,WAAK,OAAL,CAAa,eAAb,CAA6B,UAA7B;AACD,KAJD,MAIO;AACL,WAAK,OAAL,CAAa,eAAb,CAA6B,OAAO,CAAC,aAArC;;AACA,UAAI,CAAC,KAAK,CAAC,KAAK,cAAN,CAAV,EAAiC;AAC/B,aAAK,OAAL,CAAa,YAAb,CAA0B,UAA1B,EAAsC,MAAM,CAAC,KAAK,cAAN,CAA5C;AACD;AACF;AACF,GAbD;AAeA;;;;;AAGQ,EAAA,mBAAA,CAAA,SAAA,CAAA,WAAA,GAAR,UAAoB,SAApB,EAA6C;AAA7C,QAAA,KAAA,GAAA,IAAA;;AACE,QAAI,KAAK,SAAT,EAAoB;AAClB;AACD;;AAED,SAAK,kBAAL,GAA0B,IAA1B;AACA,SAAK,aAAL,CAAmB,CAAC,KAAK,uBAAzB;AACA,SAAK,uBAAL,GAA+B,KAA/B;AACA,SAAK,UAAL,CAAgB,IAAhB;;AAEA,QAAM,WAAW,GAAG,UAAC,SAAD,EAA0B;AAC5C,MAAA,KAAI,CAAC,WAAL,CAAiB,SAAjB;AACD,KAFD;;AAIA,QAAM,aAAa,GAAG,cAAc,CAAC,SAAS,CAAC,IAAX,CAApC,CAd2C,CAgB3C;AACA;AACA;AACA;;AACA,QAAM,SAAS,GAAG,YAAA;AAChB,MAAA,KAAI,CAAC,SAAL;;AACA,MAAA,KAAI,CAAC,OAAL,CAAa,gCAAb,CACI,aADJ,EACmB,WADnB;;AAEA,MAAA,SAAS,CAAC,OAAV,CACI,UAAC,OAAD,EAAQ;AAAK,eAAA,KAAI,CAAC,OAAL,CAAa,gCAAb,CACT,OADS,EAAA,SAAA,CAAA;AACU,OAF3B;AAGD,KAPD;;AASA,SAAK,OAAL,CAAa,8BAAb,CAA4C,aAA5C,EAA2D,WAA3D;AACA,IAAA,SAAS,CAAC,OAAV,CACI,UAAC,OAAD,EAAQ;AACJ,aAAA,KAAI,CAAC,OAAL,CAAa,8BAAb,CAA4C,OAA5C,EAAqD,SAArD,CAAA;AAA+D,KAFvE;AAGA,SAAK,gBAAL,CAAsB,SAAtB;AACD,GAlCO;AAoCR;;;;;AAGQ,EAAA,mBAAA,CAAA,SAAA,CAAA,WAAA,GAAR,UAAoB,GAApB,EAAuC;AACrC,IAAA,GAAG,CAAC,cAAJ;AACA,SAAK,gBAAL,CAAsB,GAAtB;AACD,GAHO;AAKR;;;;;AAGQ,EAAA,mBAAA,CAAA,SAAA,CAAA,SAAA,GAAR,YAAA;AACE,SAAK,UAAL,CAAgB,KAAhB;AACA,SAAK,OAAL,CAAa,YAAb;AACD,GAHO;AAKR;;;;;AAGQ,EAAA,mBAAA,CAAA,SAAA,CAAA,WAAA,GAAR,UAAoB,GAApB,EAAuC;AACrC,QAAK,GAAkB,CAAC,aAAnB,IACA,GAAkB,CAAC,aAAnB,CAAiC,MAAjC,GAA0C,CAD/C,EACkD;AAChD,aAAQ,GAAkB,CAAC,aAAnB,CAAiC,CAAjC,EAAoC,OAA5C;AACD;;AACD,WAAQ,GAAkB,CAAC,OAA3B;AACD,GANO;AAQR;;;;;AAGQ,EAAA,mBAAA,CAAA,SAAA,CAAA,gBAAA,GAAR,UAAyB,GAAzB,EAA4C;AAC1C,QAAM,OAAO,GAAG,KAAK,WAAL,CAAiB,GAAjB,CAAhB;AACA,QAAM,KAAK,GAAG,KAAK,wBAAL,CAA8B,OAA9B,CAAd;AACA,SAAK,SAAL,CAAe,KAAf,EAAsB,IAAtB;AACD,GAJO;AAMR;;;;;AAGQ,EAAA,mBAAA,CAAA,SAAA,CAAA,wBAAA,GAAR,UAAiC,OAAjC,EAAgD;AACxC,QAAA,EAAA,GAAA,IAAA;AAAA,QAAC,GAAA,GAAA,EAAA,CAAA,IAAD;AAAA,QAAY,GAAA,GAAA,EAAA,CAAA,IAAZ;;AACN,QAAM,IAAI,GAAG,OAAO,GAAG,KAAK,KAAL,CAAW,IAAlC;AACA,QAAI,WAAW,GAAG,IAAI,GAAG,KAAK,KAAL,CAAW,KAApC;;AACA,QAAI,KAAK,OAAL,CAAa,KAAb,EAAJ,EAA0B;AACxB,MAAA,WAAW,GAAG,IAAI,WAAlB;AACD,KAN6C,CAO9C;AACA;;;AACA,WAAO,GAAG,GAAG,WAAW,IAAI,GAAG,GAAG,GAAV,CAAxB;AACD,GAVO;AAYR;;;;;AAGQ,EAAA,mBAAA,CAAA,SAAA,CAAA,cAAA,GAAR,UAAuB,GAAvB,EAAyC;AACvC,QAAM,KAAK,GAAG,KAAK,SAAL,CAAe,GAAf,CAAd;AACA,QAAM,KAAK,GAAG,KAAK,iBAAL,CAAuB,KAAvB,CAAd;;AACA,QAAI,KAAK,CAAC,KAAD,CAAT,EAAkB;AAChB;AACD,KALsC,CAOvC;AACA;;;AACA,IAAA,GAAG,CAAC,cAAJ;AACA,SAAK,OAAL,CAAa,QAAb,CAAsB,UAAU,CAAC,KAAjC;AACA,SAAK,SAAL,CAAe,KAAf,EAAsB,IAAtB;AACA,SAAK,OAAL,CAAa,YAAb;AACD,GAbO;AAeR;;;;;AAGQ,EAAA,mBAAA,CAAA,SAAA,CAAA,SAAA,GAAR,UAAkB,MAAlB,EAAuC;AACrC,QAAI,MAAM,CAAC,GAAP,KAAe,OAAO,CAAC,UAAvB,IAAqC,MAAM,CAAC,OAAP,KAAmB,EAA5D,EAAgE;AAC9D,aAAO,OAAO,CAAC,UAAf;AACD;;AACD,QAAI,MAAM,CAAC,GAAP,KAAe,OAAO,CAAC,WAAvB,IAAsC,MAAM,CAAC,OAAP,KAAmB,EAA7D,EAAiE;AAC/D,aAAO,OAAO,CAAC,WAAf;AACD;;AACD,QAAI,MAAM,CAAC,GAAP,KAAe,OAAO,CAAC,QAAvB,IAAmC,MAAM,CAAC,OAAP,KAAmB,EAA1D,EAA8D;AAC5D,aAAO,OAAO,CAAC,QAAf;AACD;;AACD,QAAI,MAAM,CAAC,GAAP,KAAe,OAAO,CAAC,UAAvB,IAAqC,MAAM,CAAC,OAAP,KAAmB,EAA5D,EAAgE;AAC9D,aAAO,OAAO,CAAC,UAAf;AACD;;AACD,QAAI,MAAM,CAAC,GAAP,KAAe,OAAO,CAAC,IAAvB,IAA+B,MAAM,CAAC,OAAP,KAAmB,EAAtD,EAA0D;AACxD,aAAO,OAAO,CAAC,IAAf;AACD;;AACD,QAAI,MAAM,CAAC,GAAP,KAAe,OAAO,CAAC,GAAvB,IAA8B,MAAM,CAAC,OAAP,KAAmB,EAArD,EAAyD;AACvD,aAAO,OAAO,CAAC,GAAf;AACD;;AACD,QAAI,MAAM,CAAC,GAAP,KAAe,OAAO,CAAC,OAAvB,IAAkC,MAAM,CAAC,OAAP,KAAmB,EAAzD,EAA6D;AAC3D,aAAO,OAAO,CAAC,OAAf;AACD;;AACD,QAAI,MAAM,CAAC,GAAP,KAAe,OAAO,CAAC,SAAvB,IAAoC,MAAM,CAAC,OAAP,KAAmB,EAA3D,EAA+D;AAC7D,aAAO,OAAO,CAAC,SAAf;AACD;;AACD,WAAO,EAAP;AACD,GA1BO;AA4BR;;;;;AAGQ,EAAA,mBAAA,CAAA,SAAA,CAAA,iBAAA,GAAR,UAA0B,KAA1B,EAAuC;AAC/B,QAAA,EAAA,GAAA,IAAA;AAAA,QAAC,GAAA,GAAA,EAAA,CAAA,IAAD;AAAA,QAAY,GAAA,GAAA,EAAA,CAAA,IAAZ;AAAA,QAAuB,IAAA,GAAA,EAAA,CAAA,KAAvB;;AACN,QAAI,KAAK,GAAG,IAAI,IAAI,CAAC,GAAG,GAAG,GAAP,IAAc,GAAlC;AACA,QAAM,qBAAqB,GAAG,KAAK,OAAL,CAAa,KAAb,OACzB,KAAK,KAAK,OAAO,CAAC,UAAlB,IAAgC,KAAK,KAAK,OAAO,CAAC,WADzB,CAA9B;;AAEA,QAAI,qBAAJ,EAA2B;AACzB,MAAA,KAAK,GAAG,CAAC,KAAT;AACD;;AAED,YAAQ,KAAR;AACE,WAAK,OAAO,CAAC,UAAb;AACA,WAAK,OAAO,CAAC,UAAb;AACE,eAAO,KAAK,MAAL,GAAc,KAArB;;AACF,WAAK,OAAO,CAAC,WAAb;AACA,WAAK,OAAO,CAAC,QAAb;AACE,eAAO,KAAK,MAAL,GAAc,KAArB;;AACF,WAAK,OAAO,CAAC,IAAb;AACE,eAAO,KAAK,IAAZ;;AACF,WAAK,OAAO,CAAC,GAAb;AACE,eAAO,KAAK,IAAZ;;AACF,WAAK,OAAO,CAAC,OAAb;AACE,eAAO,KAAK,MAAL,GAAc,KAAK,GAAG,OAAO,CAAC,WAArC;;AACF,WAAK,OAAO,CAAC,SAAb;AACE,eAAO,KAAK,MAAL,GAAc,KAAK,GAAG,OAAO,CAAC,WAArC;;AACF;AACE,eAAO,GAAP;AAhBJ;AAkBD,GA3BO;;AA6BA,EAAA,mBAAA,CAAA,SAAA,CAAA,YAAA,GAAR,YAAA;AACE,QAAI,KAAK,kBAAT,EAA6B;AAC3B;AACD;;AACD,SAAK,OAAL,CAAa,QAAb,CAAsB,UAAU,CAAC,KAAjC;AACD,GALO;;AAOA,EAAA,mBAAA,CAAA,SAAA,CAAA,WAAA,GAAR,YAAA;AACE,SAAK,kBAAL,GAA0B,KAA1B;AACA,SAAK,OAAL,CAAa,WAAb,CAAyB,UAAU,CAAC,KAApC;AACD,GAHO;AAKR;;;;;AAGQ,EAAA,mBAAA,CAAA,SAAA,CAAA,SAAA,GAAR,UAAkB,KAAlB,EAAiC,eAAjC,EAA2D,KAA3D,EAAwE;AAAb,QAAA,KAAA,KAAA,KAAA,CAAA,EAAA;AAAA,MAAA,KAAA,GAAA,KAAA;AAAa;;AACtE,QAAI,KAAK,KAAK,KAAK,MAAf,IAAyB,CAAC,KAA9B,EAAqC;AACnC;AACD;;AAEK,QAAA,EAAA,GAAA,IAAA;AAAA,QAAC,GAAA,GAAA,EAAA,CAAA,IAAD;AAAA,QAAY,GAAA,GAAA,EAAA,CAAA,IAAZ;;AACN,QAAM,kBAAkB,GAAG,KAAK,KAAK,GAAV,IAAiB,KAAK,KAAK,GAAtD;;AACA,QAAI,KAAK,KAAL,IAAc,CAAC,kBAAnB,EAAuC;AACrC,MAAA,KAAK,GAAG,KAAK,SAAL,CAAe,KAAf,CAAR;AACD;;AACD,QAAI,KAAK,GAAG,GAAZ,EAAiB;AACf,MAAA,KAAK,GAAG,GAAR;AACD,KAFD,MAEO,IAAI,KAAK,GAAG,GAAZ,EAAiB;AACtB,MAAA,KAAK,GAAG,GAAR;AACD;;AACD,IAAA,KAAK,GAAG,KAAK,IAAI,CAAjB,CAfsE,CAelD;;AACpB,SAAK,MAAL,GAAc,KAAd;AACA,SAAK,OAAL,CAAa,YAAb,CAA0B,OAAO,CAAC,aAAlC,EAAiD,MAAM,CAAC,KAAK,MAAN,CAAvD;AACA,SAAK,wBAAL;;AAEA,QAAI,eAAJ,EAAqB;AACnB,WAAK,OAAL,CAAa,WAAb;;AACA,UAAI,KAAK,WAAT,EAAsB;AACpB,aAAK,OAAL,CAAa,cAAb,CAA4B,KAA5B;AACD;AACF;AACF,GA1BO;AA4BR;;;;;AAGQ,EAAA,mBAAA,CAAA,SAAA,CAAA,SAAA,GAAR,UAAkB,KAAlB,EAA+B;AAC7B,QAAM,QAAQ,GAAG,IAAI,CAAC,KAAL,CAAW,KAAK,GAAG,KAAK,KAAxB,CAAjB;AACA,WAAO,QAAQ,GAAG,KAAK,KAAvB;AACD,GAHO;;AAKA,EAAA,mBAAA,CAAA,SAAA,CAAA,wBAAA,GAAR,YAAA;AAAA,QAAA,KAAA,GAAA,IAAA;;AACQ,QAAA,EAAA,GAAA,IAAA;AAAA,QAAC,GAAA,GAAA,EAAA,CAAA,IAAD;AAAA,QAAY,GAAA,GAAA,EAAA,CAAA,IAAZ;AAAA,QAAuB,KAAA,GAAA,EAAA,CAAA,MAAvB;;AACN,QAAM,WAAW,GAAG,CAAC,KAAK,GAAG,GAAT,KAAiB,GAAG,GAAG,GAAvB,CAApB;AACA,QAAI,WAAW,GAAG,WAAW,GAAG,KAAK,KAAL,CAAW,KAA3C;;AACA,QAAI,KAAK,OAAL,CAAa,KAAb,EAAJ,EAA0B;AACxB,MAAA,WAAW,GAAG,KAAK,KAAL,CAAW,KAAX,GAAmB,WAAjC;AACD;;AAED,QAAM,aAAa,GAAG,SAAS,GAAG,sBAAsB,CAAC,MAAD,EAAS,WAAT,CAAzB,GAAiD,WAAhF;AACA,QAAM,oBAAoB,GACtB,SAAS,GAAG,mBAAmB,CAAC,MAAD,EAAS,eAAT,CAAtB,GAA+D,eAD5E;;AAGA,QAAI,KAAK,UAAT,EAAqB;AACnB,UAAM,iBAAe,GAAG,YAAA;AACtB,QAAA,KAAI,CAAC,aAAL,CAAmB,KAAnB;;AACA,QAAA,KAAI,CAAC,OAAL,CAAa,0CAAb,CACI,oBADJ,EAC0B,iBAD1B;AAED,OAJD;;AAKA,WAAK,OAAL,CAAa,wCAAb,CACI,oBADJ,EAC0B,iBAD1B;AAED;;AAED,IAAA,qBAAqB,CAAC,YAAA;AACpB;AACA;AACA;AACA;AACA,MAAA,KAAI,CAAC,OAAL,CAAa,8BAAb,CACI,aADJ,EACmB,gBAAc,WAAd,GAAyB,sBAD5C;;AAEA,MAAA,KAAI,CAAC,OAAL,CAAa,qBAAb,CACI,aADJ,EACmB,YAAU,WAAV,GAAqB,GADxC;AAED,KAToB,CAArB;AAUD,GAhCO;AAkCR;;;;;AAGQ,EAAA,mBAAA,CAAA,SAAA,CAAA,UAAA,GAAR,UAAmB,MAAnB,EAAkC;AAChC,SAAK,OAAL,GAAe,MAAf;AACA,SAAK,YAAL,CAAkB,UAAU,CAAC,MAA7B,EAAqC,KAAK,OAA1C;AACD,GAHO;AAKR;;;;;AAGQ,EAAA,mBAAA,CAAA,SAAA,CAAA,aAAA,GAAR,UAAsB,SAAtB,EAAwC;AACtC,SAAK,UAAL,GAAkB,SAAlB;AACA,SAAK,YAAL,CAAkB,UAAU,CAAC,UAA7B,EAAyC,KAAK,UAA9C;AACD,GAHO;AAKR;;;;;AAGQ,EAAA,mBAAA,CAAA,SAAA,CAAA,YAAA,GAAR,UAAqB,SAArB,EAAwC,eAAxC,EAAgE;AAC9D,QAAI,eAAJ,EAAqB;AACnB,WAAK,OAAL,CAAa,QAAb,CAAsB,SAAtB;AACD,KAFD,MAEO;AACL,WAAK,OAAL,CAAa,WAAb,CAAyB,SAAzB;AACD;AACF,GANO;;AAOV,SAAA,mBAAA;AAAC,CAtfD,CAAyC,aAAzC,CAAA;;gCAwfA;AACA;;AACA,eAAe,mBAAf","sourceRoot":"","sourcesContent":["/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport { __assign, __extends } from \"tslib\";\nimport { getCorrectEventName, getCorrectPropertyName } from '@material/animation/util';\nimport { MDCFoundation } from '@material/base/foundation';\nimport { cssClasses, numbers, strings } from './constants';\n// Accessing `window` without a `typeof` check will throw on Node environments.\nvar hasWindow = typeof window !== 'undefined';\nvar hasPointerEventSupport = hasWindow && !!window.PointerEvent;\nvar DOWN_EVENTS = hasPointerEventSupport ? ['pointerdown'] : ['mousedown', 'touchstart'];\nvar UP_EVENTS = hasPointerEventSupport ? ['pointerup'] : ['mouseup', 'touchend'];\nvar MOVE_EVENT_MAP = {\n    mousedown: 'mousemove',\n    pointerdown: 'pointermove',\n    touchstart: 'touchmove',\n};\nvar KEY_IDS = {\n    ARROW_DOWN: 'ArrowDown',\n    ARROW_LEFT: 'ArrowLeft',\n    ARROW_RIGHT: 'ArrowRight',\n    ARROW_UP: 'ArrowUp',\n    END: 'End',\n    HOME: 'Home',\n    PAGE_DOWN: 'PageDown',\n    PAGE_UP: 'PageUp',\n};\nvar MDCSliderFoundation = /** @class */ (function (_super) {\n    __extends(MDCSliderFoundation, _super);\n    function MDCSliderFoundation(adapter) {\n        var _this = _super.call(this, __assign(__assign({}, MDCSliderFoundation.defaultAdapter), adapter)) || this;\n        /**\n         * We set this to NaN since we want it to be a number, but we can't use '0' or\n         * '-1' because those could be valid tabindices set by the client code.\n         */\n        _this.savedTabIndex_ = NaN;\n        _this.active_ = false;\n        _this.inTransit_ = false;\n        _this.isDiscrete_ = false;\n        _this.hasTrackMarker_ = false;\n        _this.handlingThumbTargetEvt_ = false;\n        _this.min_ = 0;\n        _this.max_ = 100;\n        _this.step_ = 0;\n        _this.value_ = 0;\n        _this.disabled_ = false;\n        _this.preventFocusState_ = false;\n        _this.thumbContainerPointerHandler_ = function () { return _this.handlingThumbTargetEvt_ =\n            true; };\n        _this.interactionStartHandler_ = function (evt) {\n            return _this.handleDown_(evt);\n        };\n        _this.keydownHandler_ = function (evt) { return _this.handleKeydown_(evt); };\n        _this.focusHandler_ = function () { return _this.handleFocus_(); };\n        _this.blurHandler_ = function () { return _this.handleBlur_(); };\n        _this.resizeHandler_ = function () { return _this.layout(); };\n        return _this;\n    }\n    Object.defineProperty(MDCSliderFoundation, \"cssClasses\", {\n        get: function () {\n            return cssClasses;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCSliderFoundation, \"strings\", {\n        get: function () {\n            return strings;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCSliderFoundation, \"numbers\", {\n        get: function () {\n            return numbers;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCSliderFoundation, \"defaultAdapter\", {\n        get: function () {\n            // tslint:disable:object-literal-sort-keys Methods should be in the same\n            // order as the adapter interface.\n            return {\n                hasClass: function () { return false; },\n                addClass: function () { return undefined; },\n                removeClass: function () { return undefined; },\n                getAttribute: function () { return null; },\n                setAttribute: function () { return undefined; },\n                removeAttribute: function () { return undefined; },\n                computeBoundingRect: function () {\n                    return ({ top: 0, right: 0, bottom: 0, left: 0, width: 0, height: 0 });\n                },\n                getTabIndex: function () { return 0; },\n                registerInteractionHandler: function () { return undefined; },\n                deregisterInteractionHandler: function () { return undefined; },\n                registerThumbContainerInteractionHandler: function () { return undefined; },\n                deregisterThumbContainerInteractionHandler: function () { return undefined; },\n                registerBodyInteractionHandler: function () { return undefined; },\n                deregisterBodyInteractionHandler: function () { return undefined; },\n                registerResizeHandler: function () { return undefined; },\n                deregisterResizeHandler: function () { return undefined; },\n                notifyInput: function () { return undefined; },\n                notifyChange: function () { return undefined; },\n                setThumbContainerStyleProperty: function () { return undefined; },\n                setTrackStyleProperty: function () { return undefined; },\n                setMarkerValue: function () { return undefined; },\n                setTrackMarkers: function () { return undefined; },\n                isRTL: function () { return false; },\n            };\n            // tslint:enable:object-literal-sort-keys\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MDCSliderFoundation.prototype.init = function () {\n        var _this = this;\n        this.isDiscrete_ = this.adapter.hasClass(cssClasses.IS_DISCRETE);\n        this.hasTrackMarker_ = this.adapter.hasClass(cssClasses.HAS_TRACK_MARKER);\n        DOWN_EVENTS.forEach(function (evtName) {\n            _this.adapter.registerInteractionHandler(evtName, _this.interactionStartHandler_);\n            _this.adapter.registerThumbContainerInteractionHandler(evtName, _this.thumbContainerPointerHandler_);\n        });\n        if (hasPointerEventSupport) {\n            /*\n             * When pointermove happens, if too much sliding happens, the browser\n             * believes you are panning in the x direction and stops firing\n             * pointermove events and supplies its own gestures. (similar to\n             * preventing default on touchmove)\n             */\n            this.adapter.addClass(cssClasses.DISABLE_TOUCH_ACTION);\n        }\n        this.adapter.registerInteractionHandler('keydown', this.keydownHandler_);\n        this.adapter.registerInteractionHandler('focus', this.focusHandler_);\n        this.adapter.registerInteractionHandler('blur', this.blurHandler_);\n        this.adapter.registerResizeHandler(this.resizeHandler_);\n        this.layout();\n        // At last step, provide a reasonable default value to discrete slider\n        if (this.isDiscrete_ && this.getStep() === 0) {\n            this.step_ = 1;\n        }\n    };\n    MDCSliderFoundation.prototype.destroy = function () {\n        var _this = this;\n        DOWN_EVENTS.forEach(function (evtName) {\n            _this.adapter.deregisterInteractionHandler(evtName, _this.interactionStartHandler_);\n            _this.adapter.deregisterThumbContainerInteractionHandler(evtName, _this.thumbContainerPointerHandler_);\n        });\n        this.adapter.deregisterInteractionHandler('keydown', this.keydownHandler_);\n        this.adapter.deregisterInteractionHandler('focus', this.focusHandler_);\n        this.adapter.deregisterInteractionHandler('blur', this.blurHandler_);\n        this.adapter.deregisterResizeHandler(this.resizeHandler_);\n    };\n    MDCSliderFoundation.prototype.setupTrackMarker = function () {\n        if (this.isDiscrete_ && this.hasTrackMarker_ && this.getStep() !== 0) {\n            this.adapter.setTrackMarkers(this.getStep(), this.getMax(), this.getMin());\n        }\n    };\n    MDCSliderFoundation.prototype.layout = function () {\n        this.rect_ = this.adapter.computeBoundingRect();\n        this.updateUIForCurrentValue_();\n    };\n    MDCSliderFoundation.prototype.getValue = function () {\n        return this.value_;\n    };\n    MDCSliderFoundation.prototype.setValue = function (value) {\n        this.setValue_(value, false);\n    };\n    MDCSliderFoundation.prototype.getMax = function () {\n        return this.max_;\n    };\n    MDCSliderFoundation.prototype.setMax = function (max) {\n        if (max < this.min_) {\n            throw new Error('Cannot set max to be less than the slider\\'s minimum value');\n        }\n        this.max_ = max;\n        this.setValue_(this.value_, false, true);\n        this.adapter.setAttribute(strings.ARIA_VALUEMAX, String(this.max_));\n        this.setupTrackMarker();\n    };\n    MDCSliderFoundation.prototype.getMin = function () {\n        return this.min_;\n    };\n    MDCSliderFoundation.prototype.setMin = function (min) {\n        if (min > this.max_) {\n            throw new Error('Cannot set min to be greater than the slider\\'s maximum value');\n        }\n        this.min_ = min;\n        this.setValue_(this.value_, false, true);\n        this.adapter.setAttribute(strings.ARIA_VALUEMIN, String(this.min_));\n        this.setupTrackMarker();\n    };\n    MDCSliderFoundation.prototype.getStep = function () {\n        return this.step_;\n    };\n    MDCSliderFoundation.prototype.setStep = function (step) {\n        if (step < 0) {\n            throw new Error('Step cannot be set to a negative number');\n        }\n        if (this.isDiscrete_ && (typeof (step) !== 'number' || step < 1)) {\n            step = 1;\n        }\n        this.step_ = step;\n        this.setValue_(this.value_, false, true);\n        this.setupTrackMarker();\n    };\n    MDCSliderFoundation.prototype.isDisabled = function () {\n        return this.disabled_;\n    };\n    MDCSliderFoundation.prototype.setDisabled = function (disabled) {\n        this.disabled_ = disabled;\n        this.toggleClass_(cssClasses.DISABLED, this.disabled_);\n        if (this.disabled_) {\n            this.savedTabIndex_ = this.adapter.getTabIndex();\n            this.adapter.setAttribute(strings.ARIA_DISABLED, 'true');\n            this.adapter.removeAttribute('tabindex');\n        }\n        else {\n            this.adapter.removeAttribute(strings.ARIA_DISABLED);\n            if (!isNaN(this.savedTabIndex_)) {\n                this.adapter.setAttribute('tabindex', String(this.savedTabIndex_));\n            }\n        }\n    };\n    /**\n     * Called when the user starts interacting with the slider\n     */\n    MDCSliderFoundation.prototype.handleDown_ = function (downEvent) {\n        var _this = this;\n        if (this.disabled_) {\n            return;\n        }\n        this.preventFocusState_ = true;\n        this.setInTransit_(!this.handlingThumbTargetEvt_);\n        this.handlingThumbTargetEvt_ = false;\n        this.setActive_(true);\n        var moveHandler = function (moveEvent) {\n            _this.handleMove_(moveEvent);\n        };\n        var moveEventType = MOVE_EVENT_MAP[downEvent.type];\n        // Note: upHandler is [de]registered on ALL potential pointer-related\n        // release event types, since some browsers do not always fire these\n        // consistently in pairs. (See\n        // https://github.com/material-components/material-components-web/issues/1192)\n        var upHandler = function () {\n            _this.handleUp_();\n            _this.adapter.deregisterBodyInteractionHandler(moveEventType, moveHandler);\n            UP_EVENTS.forEach(function (evtName) { return _this.adapter.deregisterBodyInteractionHandler(evtName, upHandler); });\n        };\n        this.adapter.registerBodyInteractionHandler(moveEventType, moveHandler);\n        UP_EVENTS.forEach(function (evtName) {\n            return _this.adapter.registerBodyInteractionHandler(evtName, upHandler);\n        });\n        this.setValueFromEvt_(downEvent);\n    };\n    /**\n     * Called when the user moves the slider\n     */\n    MDCSliderFoundation.prototype.handleMove_ = function (evt) {\n        evt.preventDefault();\n        this.setValueFromEvt_(evt);\n    };\n    /**\n     * Called when the user's interaction with the slider ends\n     */\n    MDCSliderFoundation.prototype.handleUp_ = function () {\n        this.setActive_(false);\n        this.adapter.notifyChange();\n    };\n    /**\n     * Returns the clientX of the event\n     */\n    MDCSliderFoundation.prototype.getClientX_ = function (evt) {\n        if (evt.targetTouches &&\n            evt.targetTouches.length > 0) {\n            return evt.targetTouches[0].clientX;\n        }\n        return evt.clientX;\n    };\n    /**\n     * Sets the slider value from an event\n     */\n    MDCSliderFoundation.prototype.setValueFromEvt_ = function (evt) {\n        var clientX = this.getClientX_(evt);\n        var value = this.computeValueFromClientX_(clientX);\n        this.setValue_(value, true);\n    };\n    /**\n     * Computes the new value from the clientX position\n     */\n    MDCSliderFoundation.prototype.computeValueFromClientX_ = function (clientX) {\n        var _a = this, max = _a.max_, min = _a.min_;\n        var xPos = clientX - this.rect_.left;\n        var pctComplete = xPos / this.rect_.width;\n        if (this.adapter.isRTL()) {\n            pctComplete = 1 - pctComplete;\n        }\n        // Fit the percentage complete between the range [min,max]\n        // by remapping from [0, 1] to [min, min+(max-min)].\n        return min + pctComplete * (max - min);\n    };\n    /**\n     * Handles keydown events\n     */\n    MDCSliderFoundation.prototype.handleKeydown_ = function (evt) {\n        var keyId = this.getKeyId_(evt);\n        var value = this.getValueForKeyId_(keyId);\n        if (isNaN(value)) {\n            return;\n        }\n        // Prevent page from scrolling due to key presses that would normally scroll\n        // the page\n        evt.preventDefault();\n        this.adapter.addClass(cssClasses.FOCUS);\n        this.setValue_(value, true);\n        this.adapter.notifyChange();\n    };\n    /**\n     * Returns the computed name of the event\n     */\n    MDCSliderFoundation.prototype.getKeyId_ = function (kbdEvt) {\n        if (kbdEvt.key === KEY_IDS.ARROW_LEFT || kbdEvt.keyCode === 37) {\n            return KEY_IDS.ARROW_LEFT;\n        }\n        if (kbdEvt.key === KEY_IDS.ARROW_RIGHT || kbdEvt.keyCode === 39) {\n            return KEY_IDS.ARROW_RIGHT;\n        }\n        if (kbdEvt.key === KEY_IDS.ARROW_UP || kbdEvt.keyCode === 38) {\n            return KEY_IDS.ARROW_UP;\n        }\n        if (kbdEvt.key === KEY_IDS.ARROW_DOWN || kbdEvt.keyCode === 40) {\n            return KEY_IDS.ARROW_DOWN;\n        }\n        if (kbdEvt.key === KEY_IDS.HOME || kbdEvt.keyCode === 36) {\n            return KEY_IDS.HOME;\n        }\n        if (kbdEvt.key === KEY_IDS.END || kbdEvt.keyCode === 35) {\n            return KEY_IDS.END;\n        }\n        if (kbdEvt.key === KEY_IDS.PAGE_UP || kbdEvt.keyCode === 33) {\n            return KEY_IDS.PAGE_UP;\n        }\n        if (kbdEvt.key === KEY_IDS.PAGE_DOWN || kbdEvt.keyCode === 34) {\n            return KEY_IDS.PAGE_DOWN;\n        }\n        return '';\n    };\n    /**\n     * Computes the value given a keyboard key ID\n     */\n    MDCSliderFoundation.prototype.getValueForKeyId_ = function (keyId) {\n        var _a = this, max = _a.max_, min = _a.min_, step = _a.step_;\n        var delta = step || (max - min) / 100;\n        var valueNeedsToBeFlipped = this.adapter.isRTL() &&\n            (keyId === KEY_IDS.ARROW_LEFT || keyId === KEY_IDS.ARROW_RIGHT);\n        if (valueNeedsToBeFlipped) {\n            delta = -delta;\n        }\n        switch (keyId) {\n            case KEY_IDS.ARROW_LEFT:\n            case KEY_IDS.ARROW_DOWN:\n                return this.value_ - delta;\n            case KEY_IDS.ARROW_RIGHT:\n            case KEY_IDS.ARROW_UP:\n                return this.value_ + delta;\n            case KEY_IDS.HOME:\n                return this.min_;\n            case KEY_IDS.END:\n                return this.max_;\n            case KEY_IDS.PAGE_UP:\n                return this.value_ + delta * numbers.PAGE_FACTOR;\n            case KEY_IDS.PAGE_DOWN:\n                return this.value_ - delta * numbers.PAGE_FACTOR;\n            default:\n                return NaN;\n        }\n    };\n    MDCSliderFoundation.prototype.handleFocus_ = function () {\n        if (this.preventFocusState_) {\n            return;\n        }\n        this.adapter.addClass(cssClasses.FOCUS);\n    };\n    MDCSliderFoundation.prototype.handleBlur_ = function () {\n        this.preventFocusState_ = false;\n        this.adapter.removeClass(cssClasses.FOCUS);\n    };\n    /**\n     * Sets the value of the slider\n     */\n    MDCSliderFoundation.prototype.setValue_ = function (value, shouldFireInput, force) {\n        if (force === void 0) { force = false; }\n        if (value === this.value_ && !force) {\n            return;\n        }\n        var _a = this, min = _a.min_, max = _a.max_;\n        var valueSetToBoundary = value === min || value === max;\n        if (this.step_ && !valueSetToBoundary) {\n            value = this.quantize_(value);\n        }\n        if (value < min) {\n            value = min;\n        }\n        else if (value > max) {\n            value = max;\n        }\n        value = value || 0; // coerce -0 to 0\n        this.value_ = value;\n        this.adapter.setAttribute(strings.ARIA_VALUENOW, String(this.value_));\n        this.updateUIForCurrentValue_();\n        if (shouldFireInput) {\n            this.adapter.notifyInput();\n            if (this.isDiscrete_) {\n                this.adapter.setMarkerValue(value);\n            }\n        }\n    };\n    /**\n     * Calculates the quantized value\n     */\n    MDCSliderFoundation.prototype.quantize_ = function (value) {\n        var numSteps = Math.round(value / this.step_);\n        return numSteps * this.step_;\n    };\n    MDCSliderFoundation.prototype.updateUIForCurrentValue_ = function () {\n        var _this = this;\n        var _a = this, max = _a.max_, min = _a.min_, value = _a.value_;\n        var pctComplete = (value - min) / (max - min);\n        var translatePx = pctComplete * this.rect_.width;\n        if (this.adapter.isRTL()) {\n            translatePx = this.rect_.width - translatePx;\n        }\n        var transformProp = hasWindow ? getCorrectPropertyName(window, 'transform') : 'transform';\n        var transitionendEvtName = hasWindow ? getCorrectEventName(window, 'transitionend') : 'transitionend';\n        if (this.inTransit_) {\n            var onTransitionEnd_1 = function () {\n                _this.setInTransit_(false);\n                _this.adapter.deregisterThumbContainerInteractionHandler(transitionendEvtName, onTransitionEnd_1);\n            };\n            this.adapter.registerThumbContainerInteractionHandler(transitionendEvtName, onTransitionEnd_1);\n        }\n        requestAnimationFrame(function () {\n            // NOTE(traviskaufman): It would be nice to use calc() here,\n            // but IE cannot handle calcs in transforms correctly.\n            // See: https://goo.gl/NC2itk\n            // Also note that the -50% offset is used to center the slider thumb.\n            _this.adapter.setThumbContainerStyleProperty(transformProp, \"translateX(\" + translatePx + \"px) translateX(-50%)\");\n            _this.adapter.setTrackStyleProperty(transformProp, \"scaleX(\" + pctComplete + \")\");\n        });\n    };\n    /**\n     * Toggles the active state of the slider\n     */\n    MDCSliderFoundation.prototype.setActive_ = function (active) {\n        this.active_ = active;\n        this.toggleClass_(cssClasses.ACTIVE, this.active_);\n    };\n    /**\n     * Toggles the inTransit state of the slider\n     */\n    MDCSliderFoundation.prototype.setInTransit_ = function (inTransit) {\n        this.inTransit_ = inTransit;\n        this.toggleClass_(cssClasses.IN_TRANSIT, this.inTransit_);\n    };\n    /**\n     * Conditionally adds or removes a class based on shouldBePresent\n     */\n    MDCSliderFoundation.prototype.toggleClass_ = function (className, shouldBePresent) {\n        if (shouldBePresent) {\n            this.adapter.addClass(className);\n        }\n        else {\n            this.adapter.removeClass(className);\n        }\n    };\n    return MDCSliderFoundation;\n}(MDCFoundation));\nexport { MDCSliderFoundation };\n// tslint:disable-next-line:no-default-export Needed for backward compatibility\n// with MDC Web v0.44.0 and earlier.\nexport default MDCSliderFoundation;\n//# sourceMappingURL=foundation.js.map"]},"metadata":{},"sourceType":"module"}